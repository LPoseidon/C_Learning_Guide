# 第五章 逻辑与或非：让程序学会“组合判断”



生活中的判断往往不是“单枪匹马”的——妈妈可能会说“作业写完**并且**练完钢琴，才能看动画片”；爸爸可能会说“考试进步**或者**坚持运动，就给奖励”；而“今天**不**下雨”这种否定式判断，更是随处可见。这些“并且”“或者”“不”的逻辑，在C++里有专门的运算符来实现，它们就是**逻辑运算符**。本章我们就用生活场景拆解“与、或、非”的用法，让程序的判断能力再上一个台阶。

## 5.1 “非”运算符（!）：把“是”变成“不是”

先从最简单的“非”开始，它的作用就像给判断句加个“不”字。比如“作业写完了”变成“作业没写完”，“今天下雨”变成“今天不下雨”。在C++里，“非”用感叹号`!`表示，放在条件前面就能完成否定。

它的规则很简单：如果原来的条件是`true`（真），加`!`后变成`false`（假）；如果原来的条件是`false`（假），加`!`后变成`true`（真）。就像“开关”一样，按一下就反转状态。

```cpp
#include <iostream>
using namespace std;

int main() {
    bool isRaining = false; // 今天不下雨
    
    if (!isRaining) { // 如果“不是下雨”（即不下雨）
        cout << "今天可以去野餐啦！" << endl;
    } else {
        cout << "今天只能在家看书了。" << endl;
    }
    
    return 0;
}
```

运行这段代码，`isRaining`是`false`，所以`!isRaining`就是`true`，程序会输出“今天可以去野餐啦！”。如果把`isRaining`改成`true`，结果就会反过来。

小提示：`!`的优先级很高，比算术运算符和关系运算符都要高。比如`!a > 5`会先算`!a`，再和5比较，而不是先算`a>5`再否定。

## 5.2 “与”运算符（&&）：“并且”才成立

“与”运算对应生活中的“并且”，只有**所有条件都满足**时，最终结果才是`true`。比如妈妈的要求“作业写完**并且**练完钢琴，才能看动画片”，少一个条件都不行。在C++里，“与”用两个连写的&`&&`表示。

它的规则可以总结为“一假即假，全真才真”：

- 条件A为`true`，条件B为`true` → 结果为`true`
- 条件A为`true`，条件B为`false` → 结果为`false`
- 条件A为`false`，条件B为`true` → 结果为`false`
- 条件A为`false`，条件B为`false` → 结果为`false`

我们把“看动画片”的条件写成程序：

```cpp
#include <iostream>
using namespace std;

int main() {
    bool isHomeworkDone = true;  // 作业写完了
    bool isPianoPracticed = false; // 钢琴没练
    
    if (isHomeworkDone && isPianoPracticed) {
        cout << "可以看半小时动画片啦！" << endl;
    } else {
        cout << "先完成所有任务哦！" << endl;
    }
    
    return 0;
}
```

这里`isPianoPracticed`是`false`，所以`isHomeworkDone && isPianoPracticed`的结果是`false`，程序会输出“先完成所有任务哦！”。只有把两个变量都改成`true`，才能看到看动画片的提示。



## 5.3 “或”运算符（||）：“或者”就成立

“或”运算对应生活中的“或者”，只要**至少有一个条件满足**，最终结果就是`true`。比如爸爸的承诺“考试进步**或者**坚持运动，就给奖励”，满足一个就能拿到奖励。在C++里，“或”用两个连写的|`||`表示。

它的规则是“一真即真，全假才假”：

- 条件A为`true`，条件B为`true` → 结果为`true`
- 条件A为`true`，条件B为`false` → 结果为`true`
- 条件A为`false`，条件B为`true` → 结果为`true`
- 条件A为`false`，条件B为`false` → 结果为`false`

用“拿奖励”的例子写程序：

```Plain
#include <iostream>
using namespace std;

int main() {
    bool isScoreImproved = false; // 考试没进步
    bool isExerciseRegular = true; // 坚持运动
    
    if (isScoreImproved || isExerciseRegular) {
        cout << "奖励你一个小礼物！" << endl;
    } else {
        cout << "继续加油，下次一定有奖励！" << endl;
    }
    
    return 0;
}
```

这里`isExerciseRegular`是`true`，所以`isScoreImproved || isExerciseRegular`的结果是`true`，程序会输出“奖励你一个小礼物！”。即使考试没进步，只要坚持运动，依然能拿到奖励，这就是“或”运算的灵活之处。

# 5.4 本章总结

本章我们解锁了逻辑运算符的“三兄弟”——`!`（非）、`&&`（与）、`||`（或），它们就像程序判断的“组合工具”：`!`能反转条件的真假，`&&`要求所有条件“全满足才通过”，`||`只要“有一个满足就放行”。通过生活中的场景例子，我们已经能轻松写出像“作业写完且练完琴才能看动画”“考试进步或坚持运动就给奖励”这样的基础逻辑判断。

但编程世界里的逻辑往往不会这么“简单直接”——实际开发中，我们可能需要处理更复杂的条件，比如“年龄满18岁且有身份证，或年龄不满18岁但有家长陪同，同时消费满50元才能参与活动”。这种多个运算符融合交替的场景，就像一堆“案件线索”混在一起，**运算符的优先级**就成了“断案关键”——先算哪个、后算哪个，直接决定了逻辑判断的对错。

比如`3>2==1`，如果不清楚优先级，很容易误判结果；再比如`a=3&&4+5`，赋值和逻辑运算的顺序也会影响最终变量的值。所以，掌握了逻辑运算符后，我们还需要一套清晰的“运算规则手册”来应对复杂场景。别担心，下一章我们就化身“编程判官”，专门拆解运算符的优先级知识，让你在面对任何复杂表达式时都能“判得明、算得对”！
